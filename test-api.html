<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Тест API ключа</title>
</head>
<body>
    <h1>Тест API ключа Flash Menu</h1>
    <div id="result"></div>

    <script>
        // Конфигурация API (скопирована из app.js)
        const API_CONFIG = {
            encryptedKey: 'AIzaSyC1jOV62uVbRCL2Wb7E1dacps7YobyLhL4',
            baseUrl: 'https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent'
        };

        // Функция для получения API ключа
        function getApiKey() {
            try {
                const decryptedKey = atob(API_CONFIG.encryptedKey);
                return decryptedKey;
            } catch (error) {
                console.error('Ошибка получения API ключа:', error);
                return null;
            }
        }

        // Тестирование
        function testApiKey() {
            const resultDiv = document.getElementById('result');
            const apiKey = getApiKey();
            
            let html = '<h2>Результаты тестирования:</h2>';
            html += '<p><strong>Зашифрованный ключ:</strong> ' + API_CONFIG.encryptedKey + '</p>';
            html += '<p><strong>Расшифрованный ключ:</strong> ' + (apiKey || 'ОШИБКА') + '</p>';
            html += '<p><strong>Длина ключа:</strong> ' + (apiKey ? apiKey.length : 0) + '</p>';
            
            if (apiKey) {
                html += '<p><strong>Статус:</strong> <span style="color: green;">✅ Ключ получен успешно</span></p>';
                html += '<p><strong>URL для тестирования:</strong> ' + API_CONFIG.baseUrl + '?key=' + apiKey + '</p>';
            } else {
                html += '<p><strong>Статус:</strong> <span style="color: red;">❌ Ошибка получения ключа</span></p>';
            }
            
            resultDiv.innerHTML = html;
        }

        // Запускаем тест при загрузке страницы
        window.onload = testApiKey;
    </script>
</body>
</html> 