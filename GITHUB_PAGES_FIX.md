# üö® –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å GitHub Pages

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
```
–û—à–∏–±–∫–∞: –î–µ–π—Å—Ç–≤–∏–µ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏ "–ü—Ä–æ—Ü–µ—Å—Å '/usr/bin/git' –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –∫–æ–¥–æ–º –≤—ã—Ö–æ–¥–∞ 128"
—É–¥–∞–ª–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø: github-actions[–±–æ—Ç]. –æ—Ç–∫–∞–∑–∞–Ω–æ –≤ –¥–æ—Å—Ç—É–ø–µ –∫ Gakuzi/flashmenu.git
—Ñ–∞—Ç–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞: –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ 'https://github.com/Gakuzi/flashmenu.git/': –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–π URL –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É: 403
```

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**

#### **Settings ‚Üí Actions ‚Üí General:**
- ‚úÖ **Actions permissions**: "Allow all actions and reusable workflows"
- ‚úÖ **Workflow permissions**: "Read and write permissions"
- ‚úÖ **Allow GitHub Actions to create and approve pull requests**: –í–∫–ª—é—á–µ–Ω–æ

#### **Settings ‚Üí Pages:**
- ‚úÖ **Source**: "Deploy from a branch"
- ‚úÖ **Branch**: `gh-pages` (—Å–æ–∑–¥–∞—Å—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- ‚úÖ **Folder**: `/ (root)`

### 2. **–°–æ–∑–¥–∞–π—Ç–µ Personal Access Token (PAT)**

#### **–®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞**
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings ‚Üí Developer settings ‚Üí Personal access tokens ‚Üí Tokens (classic)**
2. –ù–∞–∂–º–∏—Ç–µ **"Generate new token (classic)"**
3. –í—ã–±–µ—Ä–∏—Ç–µ **"Generate new token (classic)"**

#### **–®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤**
- ‚úÖ **repo** (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º)
- ‚úÖ **workflow** (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ GitHub Actions)
- ‚úÖ **admin:org** (–µ—Å–ª–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏)

#### **–®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞**
1. –í–≤–µ–¥–∏—Ç–µ **Note**: `Flash Menu Deploy Token`
2. –í—ã–±–µ—Ä–∏—Ç–µ **Expiration**: `90 days` (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
3. –ù–∞–∂–º–∏—Ç–µ **"Generate token"**
4. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω** (–±–æ–ª—å—à–µ –Ω–µ –ø–æ–∫–∞–∂–µ—Ç—Å—è!)

### 3. **–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ Secrets**

#### **Settings ‚Üí Secrets and variables ‚Üí Actions:**
1. –ù–∞–∂–º–∏—Ç–µ **"New repository secret"**
2. **Name**: `PAT_TOKEN`
3. **Value**: –≤—Å—Ç–∞–≤—å—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω
4. –ù–∞–∂–º–∏—Ç–µ **"Add secret"**

### 4. **–û–±–Ω–æ–≤–∏—Ç–µ workflow —Ñ–∞–π–ª**

–ó–∞–º–µ–Ω–∏—Ç–µ –≤ `.github/workflows/deploy.yml`:

```yaml
- name: Build and deploy to GitHub Pages
  uses: peaceiris/actions-gh-pages@v3
  if: github.ref == 'refs/heads/main'
  with:
    github_token: ${{ secrets.PAT_TOKEN }}  # –ò—Å–ø–æ–ª—å–∑—É–µ–º PAT –≤–º–µ—Å—Ç–æ GITHUB_TOKEN
    publish_dir: .
    publish_branch: gh-pages
    force_orphan: true
    user_name: 'github-actions[bot]'
    user_email: 'github-actions[bot]@users.noreply.github.com'
```

### 5. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ GITHUB_TOKEN**

–ï—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å PAT, –æ–±–Ω–æ–≤–∏—Ç–µ workflow:

```yaml
permissions:
  contents: read
  pages: write
  id-token: write

- name: Build and deploy to GitHub Pages
  uses: peaceiris/actions-gh-pages@v3
  if: github.ref == 'refs/heads/main'
  with:
    github_token: ${{ secrets.GITHUB_TOKEN }}
    publish_dir: .
    publish_branch: gh-pages
    force_orphan: true
    user_name: 'github-actions[bot]'
    user_email: 'github-actions[bot]@users.noreply.github.com'
```

## üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫

### **1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ workflow permissions:**
```yaml
permissions:
  contents: read      # –ß—Ç–µ–Ω–∏–µ –∫–æ–¥–∞
  pages: write        # –ó–∞–ø–∏—Å—å –≤ GitHub Pages
  id-token: write     # –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
```

### **2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ concurrency:**
```yaml
concurrency:
  group: "pages"           # –ì—Ä—É–ø–ø–∞ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü
  cancel-in-progress: false # –ù–µ –æ—Ç–º–µ–Ω—è—Ç—å —Ç–µ–∫—É—â–∏–µ –¥–µ–ø–ª–æ–∏
```

### **3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ user info:**
```yaml
user_name: 'github-actions[bot]'
user_email: 'github-actions[bot]@users.noreply.github.com'
```

## üöÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### **1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
```bash
git add .github/workflows/deploy.yml
git commit -m "Fix GitHub Pages deployment permissions"
git push origin main
```

### **2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Actions:**
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Actions** –≤–∫–ª–∞–¥–∫—É
- –î–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è workflow "Deploy to GitHub Pages"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏

### **3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Pages:**
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings ‚Üí Pages**
- –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∞–π—Ç
- –°–∞–π—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `https://gakuzi.github.io/flashmenu/`

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### **–î–µ–Ω—å 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤**
1. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ **Settings ‚Üí Actions ‚Üí General**
2. ‚úÖ –í–∫–ª—é—á–∏—Ç–µ **"Read and write permissions"**
3. ‚úÖ –°–æ–∑–¥–∞–π—Ç–µ **Personal Access Token**
4. ‚úÖ –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ **Secrets**

### **–î–µ–Ω—å 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ workflow**
1. ‚úÖ –û–±–Ω–æ–≤–∏—Ç–µ `.github/workflows/deploy.yml`
2. ‚úÖ –î–æ–±–∞–≤—å—Ç–µ `permissions` –∏ `concurrency`
3. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω
4. ‚úÖ –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ GitHub

### **–î–µ–Ω—å 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
1. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ **Actions** –≤–∫–ª–∞–¥–∫—É
2. ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ workflow –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ **Settings ‚Üí Pages**
4. ‚úÖ –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç –ø–æ —Å—Å—ã–ª–∫–µ

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### **–ü—Ä–æ–±–ª–µ–º–∞: "Permission denied"**
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ **Settings ‚Üí Actions ‚Üí General**
- –í–∫–ª—é—á–∏—Ç–µ **"Read and write permissions"**
- –°–æ–∑–¥–∞–π—Ç–µ **Personal Access Token**

### **–ü—Ä–æ–±–ª–µ–º–∞: "Branch not found"**
**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–µ—Ç–∫–∞ `main` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ workflow –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ push –≤ `main`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ **Settings ‚Üí Pages ‚Üí Source**

### **–ü—Ä–æ–±–ª–µ–º–∞: "Workflow not running"**
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å YAML —Ñ–∞–π–ª–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª –≤ `.github/workflows/`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ **Settings ‚Üí Actions ‚Üí General**

### **–ü—Ä–æ–±–ª–µ–º–∞: "Site not accessible"**
**–†–µ—à–µ–Ω–∏–µ:**
- –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-10 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ **Settings ‚Üí Pages** –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–µ—Ç–∫–∞ `gh-pages` —Å–æ–∑–¥–∞–ª–∞—Å—å

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ **GitHub Actions** –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ **–î–µ–ø–ª–æ–π** –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
- ‚úÖ **–í–µ—Ç–∫–∞ gh-pages** —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ **–°–∞–π—Ç** –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É `https://gakuzi.github.io/flashmenu/`
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –ø—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ `main`

## üÜò –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

### **1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ GitHub Actions:**
- –û—Ç–∫—Ä–æ–π—Ç–µ **Actions** –≤–∫–ª–∞–¥–∫—É
- –ù–∞–∂–º–∏—Ç–µ –Ω–∞ failed workflow
- –ò–∑—É—á–∏—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

### **2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:**
- **Settings ‚Üí Actions ‚Üí General**
- **Settings ‚Üí Pages**
- **Settings ‚Üí Secrets and variables ‚Üí Actions**

### **3. –°–æ–∑–¥–∞–π—Ç–µ issue:**
- –û–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É –ø–æ–¥—Ä–æ–±–Ω–æ
- –ü—Ä–∏–ª–æ–∂–∏—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –æ—à–∏–±–æ–∫
- –£–∫–∞–∂–∏—Ç–µ –≤–µ—Ä—Å–∏—é workflow —Ñ–∞–π–ª–∞

### **4. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –¥–µ–ø–ª–æ–π:**
–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ actions:
- `actions/deploy-pages@v4`
- `ad-m/github-push-action@master`
- –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ `gh-pages` –ø–∞–∫–µ—Ç

## üéØ –ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫:
- ‚úÖ **GitHub Pages** —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ **–î–µ–ø–ª–æ–π** –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ `main`
- ‚úÖ **–°–∞–π—Ç** –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ **–í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- ‚úÖ **Mock API** —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

GitHub Pages –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è! 